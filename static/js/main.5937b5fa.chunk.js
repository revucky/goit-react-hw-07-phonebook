(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{18:function(e,t,a){e.exports={switcher:"LangSwitcher_switcher__rPDe9",btn:"LangSwitcher_btn__3a1l0",active:"LangSwitcher_active__PAcUF LangSwitcher_btn__3a1l0"}},28:function(e,t,a){},56:function(e,t,a){},63:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(12),i=a.n(r),s=a(27),o=a(22),l=a(45),d=a(7),u=a(87),b=a(13),j=a.n(b),f=a(20),m=a(10),h=a(14),p="https://61c47078f1af4a0017d9953f.mockapi.io",O=function(){var e=Object(f.a)(j.a.mark((function e(t){var a,n,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:{},e.next=3,fetch("".concat(p,"/").concat(t),a);case 3:return n=e.sent,e.abrupt("return",n.ok?n.json():Promise.reject(new Error(n.statusText)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g="contacts",x=Object(m.b)("contacts/getContactStatus",Object(f.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",O(g,void 0));case 1:case"end":return e.stop()}}),e)})))),v=Object(m.b)("contacts/createContactsStatus",(function(e){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Object(h.a)({method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}},a);return O(e,n)}(g,e)})),C=Object(m.b)("contacts/ddeleteContactsStatus",(function(e){return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return O("".concat(e,"/").concat(t),Object(h.a)({method:"DELETE"},a))}(g,e)})),N=(a(56),a(2)),w=function(e){var t=e.allContacts,a=(e.onSubmit,Object(n.useState)("")),c=Object(s.a)(a,2),r=c[0],i=c[1],b=Object(n.useState)(""),j=Object(s.a)(b,2),f=j[0],m=j[1],h=Object(d.b)(),p=Object(u.a)().t,O=v,g=function(){i(""),m("")},x=Object.values({name:r,number:f}).some((function(e){return!e}));return Object(N.jsxs)("form",{className:"forma",onSubmit:function(e){e.preventDefault();t.some((function(e){return e.name===r}))?o.b.error("".concat(r,", \u0432\u0436\u0435 \u0443 \u0442\u0432\u043e\u0454\u043c\u0443 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456!")):h(O({name:r,number:f,id:Object(l.a)(3)})),g()},children:[Object(N.jsxs)("label",{className:"label",children:[p("contactForm.label"),Object(N.jsx)("input",{type:"text",name:"name",className:"input",value:r,placeholder:p("contactForm.placeholder"),onChange:function(e){return i(e.target.value)},title:" Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan ",required:!0})]}),Object(N.jsx)("br",{}),Object(N.jsxs)("label",{className:"label",children:[p("contactForm.labelNum"),Object(N.jsx)("input",{type:"tel",name:"number",value:f,className:"input",placeholder:p("contactForm.placeholderNum"),onChange:function(e){return m(e.target.value)},pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:" Phone number must be digits and can contain spaces, dashes, parentheses and can start with + ",required:!0})]}),Object(N.jsx)("br",{}),Object(N.jsx)("button",{className:"btn",type:"submit",disabled:x,children:p("contactForm.button")})]})},y=a(44),k=Object(m.c)({name:"contacts",initialState:{data:{items:[],loading:!1,error:null},filter:""},reducers:{changeFilter:function(e,t){var a=t.payload;return Object(h.a)(Object(h.a)({},e),{},{filter:a})}},extraReducers:function(e){e.addCase(x.pending,(function(e){e.data.loading=!0,e.data.error=null})).addCase(x.fulfilled,(function(e,t){var a=t.payload;e.data.loading=!1,e.data.items=a})).addCase(x.rejected,(function(e,t){var a=t.payload;e.data.loading=!1,e.data.error=a})).addCase(v.pending,(function(e){e.data.loading=!0,e.data.error=null})).addCase(v.fulfilled,(function(e,t){var a=t.payload;e.data.loading=!1,e.data.items=[].concat(Object(y.a)(e.data.items),[a])})).addCase(v.rejected,(function(e,t){var a=t.payload;e.data.loading=!1,e.data.error=a})).addCase(C.pending,(function(e){e.data.loading=!0,e.data.error=null})).addCase(C.fulfilled,(function(e,t){var a=t.payload;e.data.loading=!1;var n=e.data.items.findIndex((function(e){return e.id===a.id}));e.data.items.splice(n,1)})).addCase(C.rejected,(function(e,t){var a=t.payload;e.data.loading=!1,e.data.error=a}))}}),S=(a(63),function(){var e=Object(d.c)((function(e){return e.contacts.filter})),t=Object(d.b)(),a=Object(u.a)().t,n=k.actions.changeFilter;return Object(N.jsxs)("div",{className:"filterWrap",children:[Object(N.jsx)("p",{className:"title-filter",children:a("filter.p")}),Object(N.jsx)("input",{className:"input",type:"text",name:"filter",value:e,placeholder:a("filter.filterPlaceholder"),onChange:function(e){return t(n(e.target.value))}})]})}),F=(a(28),a(34)),L=function(e){var t=e.lists,a=e.onClick,n=Object(u.a)().t;return Object(N.jsx)("div",{children:Object(N.jsx)("ul",{className:"list",children:t.map((function(e){var t=e.name,c=e.phone,r=e.id;return Object(N.jsxs)("li",{className:"list-item",children:[Object(N.jsx)(F.a,{className:"icon"})," ",t,": ",c,Object(N.jsx)("button",{className:"btn btn-list",type:"button",id:r,onClick:function(){return a(r)},children:n("contactList.delete")})]},r)}))})})},_=(a(64),a(35)),E=x,P=C,T=function(){var e=Object(u.a)().t,t=Object(d.c)((function(e){return e.contacts.data.items})),a=Object(d.c)((function(e){return e.contacts.filter})),c=Object(d.b)();Object(n.useEffect)((function(){c(E())}),[c]);return Object(N.jsxs)("div",{className:"main",children:[Object(N.jsxs)("h1",{className:"hero",children:[Object(N.jsx)(_.a,{color:"#f57b0b",className:"icon"}),e("phonebook.title")]}),Object(N.jsx)(w,{allContacts:t}),Object(N.jsx)("h2",{className:"title",children:e("phonebook.subtitle")}),Object(N.jsx)(S,{}),Object(N.jsx)(L,{lists:t.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())})),onClick:function(e){c(P(e))}}),Object(N.jsx)(o.a,{position:"top-center",autoClose:3e3})]})},A=a(36),B=a.n(A),J=a(18),U=a.n(J),D={ua:{icon:a.p+"static/media/Ua.1684b729.png",nativeName:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},en:{icon:a.p+"static/media/Uk.da5a98ee.png",nativeName:"english"}},q=function(e){var t=Object(u.a)().i18n;return Object(N.jsx)("div",{className:U.a.switcher,children:Object.keys(D).map((function(e){return Object(N.jsx)("div",{className:U.a.btnWrp,children:Object(N.jsx)("button",{className:t.resolvedLanguage===e?U.a.active:U.a.btn,type:"submit",onClick:function(){return t.changeLanguage(e)},children:Object(N.jsx)("img",{src:D[e].icon,alt:D[e].nativeName,width:"30"})})},e)}))})},z=function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)(n.Suspense,{fallback:Object(N.jsx)(B.a,{type:"Bars",color:"#00BFFF",height:80,width:80,timeout:3e3}),children:Object(N.jsx)(q,{})}),Object(N.jsx)(n.Suspense,{fallback:"",children:Object(N.jsx)(T,{})})]})},I=a(37),M=a(38),W=a(9),R=a(39),G={key:"contact",storage:a.n(R).a,blacklist:["filter"],whitelist:["items"]},H=Object(M.createLogger)({collapsed:function(e,t,a){return!a.error},timestamp:!1}),K=Object(m.a)({reducer:{contacts:Object(W.g)(G,k.reducer)},middleware:function(e){return e({serializableCheck:{ignoredActions:[W.a,W.f,W.b,W.c,W.d,W.e]}}).concat(H)},devTools:!1}),Q=Object(W.h)(K),V=a(26),X=a(17),Y=a(41),Z=a(43);V.a.use(Y.a).use(Z.a).use(X.e).init({fallbackLng:"en",debug:!0});V.a,a(85);i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(d.a,{store:K,children:Object(N.jsx)(I.a,{loading:null,persistor:Q,children:Object(N.jsx)(z,{})})})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.5937b5fa.chunk.js.map